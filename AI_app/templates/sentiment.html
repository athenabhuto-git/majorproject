{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Sentiment Analysis</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">


    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Ubuntu:wght@500;700&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="{% static 'lib/animate/animate.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Template Stylesheet -->
    <style>
        /* Custom Styles */
.form-select {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
}

.form-control {
    width: 100%;
    padding: 10px;
    margin-bottom: 20px;
}

textarea.form-control {
    resize: vertical;
}

#fileUploadSection {
    display: none;
}

#sentimentResult {
    display: none;
}
/* Custom Styles */
.form-select {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
}

.form-control {
    width: 100%;
    padding: 10px;
    margin-bottom: 20px;
}

textarea.form-control {
    resize: vertical;
}

#fileUploadSection, #textInputSection {
    display: none;
}

#sentimentResult {
    display: none;
}

button {
    display: block;
    width: 100%;
}

    </style>
    <link href="{% static 'css/style.css' %}" rel="stylesheet">

</head>

<body>
 

 <!-- Navbar Start -->
 <div class="container-fluid sticky-top">
    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-dark p-0">
            <a href="index.html" class="navbar-brand">
                <h1 class="text-white">Sentiment<span class="text-dark">.</span>Analyze</h1>
            </a>
            <button type="button" class="navbar-toggler ms-auto me-0" data-bs-toggle="collapse"
                data-bs-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav ms-auto">
                    <a href="{% url 'index_page' %}" class="nav-item nav-link">Home</a>
                    <a href="{% url 'about_page' %}" class="nav-item nav-link">About</a>
                    <a href="{% url 'senti_page' %}" class="nav-item nav-link">Sentiment Analyisis</a>
                 
                    <a href="{% url 'contact_page' %}" class="nav-item nav-link">Contact</a>
                </div>
            </div>
        </nav>
    </div>
</div>
<!-- Navbar End -->

<!-- Hero Start -->
<div class="container-fluid pt-5 bg-primary hero-header mb-5">
    <div class="container pt-5">
        <div class="row g-5 pt-5">
            <div class="col-lg-6 align-self-center text-center text-lg-start mb-lg-5">
                <div class="btn btn-sm border rounded-pill text-white px-3 mb-3 animated slideInRight">Sentiment Analyze</div>
                <h1 class="display-4 text-white mb-4 animated slideInRight">Analyze Sentiment in Audio, Video, Images, and Text</h1>
                <p class="text-white mb-4 animated slideInRight">Use our advanced tools to analyze sentiment in various media formats, validate emotions, and gain valuable insights into content sentiment.</p>
                <a href="feature.html" class="btn btn-light py-sm-3 px-sm-5 rounded-pill me-3 animated slideInRight">Learn More</a>
                <a href="contact.html" class="btn btn-outline-light py-sm-3 px-sm-5 rounded-pill animated slideInRight">Contact Us</a>
            </div>
            <div class="col-lg-6 align-self-end text-center text-lg-end">
                <img class="img-fluid" src="{% static 'img/back.png' %}" alt="Sentiment Analysis">
            </div>
        </div>
    </div>
</div>
<!-- Hero End -->


    <!-- Full Screen Search Start -->
    <div class="modal fade" id="searchModal" tabindex="-1">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content" style="background: rgba(20, 24, 62, 0.7);">
                <div class="modal-header border-0">
                    <button type="button" class="btn btn-square bg-white btn-close" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body d-flex align-items-center justify-content-center">
                    <div class="input-group" style="max-width: 600px;">
                        <input type="text" class="form-control bg-transparent border-light p-3"
                            placeholder="Type search keyword">
                        <button class="btn btn-light px-4"><i class="bi bi-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!-- Input Type Selection Start -->
<div class="container-fluid py-5">
    <div class="container py-5">
        <div class="row g-5 align-items-center">
            <div class="col-lg-6 wow fadeIn" data-wow-delay="0.1s">
                <div class="about-img">
                    <img class="img-fluid" src="{% static 'img/about-img.jpg' %}" alt="About Image">
                </div>
            </div>
            <div class="col-lg-6 wow fadeIn" data-wow-delay="0.5s">
                <div class="btn btn-sm border rounded-pill text-primary px-3 mb-3">Sentiment Analysis</div>
                <h1 class="mb-4">Analyze Your Content with AI</h1>
                <p class="mb-4">Choose the type of content you'd like to analyze. You can upload audio, video, image files, or enter text for sentiment analysis.</p>
                
                <div class="form-group">
                    <label for="inputType" class="mb-2">Select Content Type:</label>
                    <select id="inputType" class="form-select" onchange="showContentInput()">
                        <option value="">--Select--</option>
                        <option value="audio">Audio</option>
                        <option value="video">Video</option>
                        <option value="image">Image</option>
                        <option value="text">Text</option>
                    </select>
                </div>

                <!-- Text Input Section -->
                <div id="textInputSection" class="mt-4" style="display: none;">
                    <label for="textInput">Enter Text:</label>
                    <textarea id="textInput" class="form-control" rows="4"></textarea>
                </div>

                <!-- File Upload Section -->
                <div id="fileUploadSection" class="mt-4" style="display: none;">
                    <label for="fileInput">Upload File:</label>
                    <input type="file" id="fileInput" class="form-control">
                </div>

                <!-- Sentiment Analysis Button -->
                <button id="sentimentBtn" class="btn btn-primary mt-3" style="display: none;" onclick="analyzeSentiment()">Analyze Sentiment</button>

                <!-- Sentiment Result Section -->
                <div id="sentimentResult" class="mt-3" style="display: none;">
                    <h5>Sentiment Analysis Result:</h5>
                    <p id="sentimentScore"></p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- JavaScript -->
<script>
    function showContentInput() {
        const inputType = document.getElementById("inputType").value;
        const textInputSection = document.getElementById("textInputSection");
        const fileUploadSection = document.getElementById("fileUploadSection");
        const sentimentBtn = document.getElementById("sentimentBtn");

        // Reset sections
        textInputSection.style.display = "none";
        fileUploadSection.style.display = "none";
        sentimentBtn.style.display = "none";

        if (inputType === "text") {
            textInputSection.style.display = "block";
        } else if (["audio", "image", "video"].includes(inputType)) {
            fileUploadSection.style.display = "block";
            document.getElementById("fileInput").setAttribute("accept", `${inputType}/*`);
        }

        // Show analyze button
        sentimentBtn.style.display = "block";
    }

    function analyzeSentiment() {
        const inputType = document.getElementById("inputType").value;
        const sentimentResult = document.getElementById("sentimentResult");
        const sentimentScore = document.getElementById("sentimentScore");
        let formData = new FormData();

        if (inputType === "text") {
            const textInput = document.getElementById("textInput").value.trim();
            if (!textInput) {
                alert("Please enter text for sentiment analysis.");
                return;
            }
            formData.append("text", textInput);
        } else {
            const fileInput = document.getElementById("fileInput");
            if (!fileInput.files.length) {
                alert("Please upload a file.");
                return;
            }
            formData.append("file", fileInput.files[0]);
        }

        // AJAX request to Django backend
        fetch("/analyze_sentiment/", {
            method: "POST",
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            sentimentScore.innerHTML = `<h3>Sentiment: ${data.sentiment}</h3><p>Confidence: ${data.confidence.toFixed(2)}</p>`;
            sentimentResult.style.display = "block";
        })
        .catch(() => alert("Error analyzing sentiment. Please try again."));
    }
</script>

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white-50 footer py-5">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-md-6 col-lg-4">
                    <h5 class="text-white mb-3">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a class="text-white" href="#">Home</a></li>
                        <li><a class="text-white" href="#">About</a></li>
                        <li><a class="text-white" href="#">Services</a></li>
                        <li><a class="text-white" href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-6 col-lg-4">
                    <h5 class="text-white mb-3">Contact Us</h5>
                    <p class="text-white">123 Street, City, Country</p>
                    <p class="text-white">Phone: +123 456 789</p>
                    <p class="text-white">Email: info@aicheck.com</p>
                </div>
                <div class="col-md-12 col-lg-4">
                    <h5 class="text-white mb-3">Follow Us</h5>
                    <div class="d-flex">
                        <a class="btn btn-outline-light btn-square me-3" href=""><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-outline-light btn-square me-3" href=""><i class="fab fa-twitter"></i></a>
                        <a class="btn btn-outline-light btn-square me-3" href=""><i class="fab fa-instagram"></i></a>
                        <a class="btn btn-outline-light btn-square" href=""><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer End -->

    <!-- Copyright Start -->
    <div class="container-fluid bg-dark text-white text-center py-4">
        <p class="mb-0">&copy; 2024 AI.Check. All Rights Reserved.</p>
    </div>
    <!-- Copyright End -->
</body>

</html>
